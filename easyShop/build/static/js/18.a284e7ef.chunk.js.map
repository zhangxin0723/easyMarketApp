{"version":3,"sources":["components/main/detail/goods.js","loadImg/index.js"],"names":["Goods","inject","observer","_this","Object","G_easyMarket_easyMarketApp_easyShop_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","G_easyMarket_easyMarketApp_easyShop_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","G_easyMarket_easyMarketApp_easyShop_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","swiperDom","React","createRef","state","modal1","modal2","flag","goodsNum","Collect","userHasCollect","id","props","match","params","goods","getGoods","topic","getCommentList","valueId","typeId","page","size","getRelated","getCartSum","lazyLoad","refs","load","nextProps","Swiper","current","loop","pagination","el","swiperPage","autoplay","delay","setState","Toast","fail","success","goodsId","goodsData","info","productId","productList","number","addGoodsCart","loading","console","log","addCollect","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","ref","onClick","history","goBack","name","gallery","map","item","key","src","data-src","img_url","alt","goods_brief","retail_price","mytopicComment","data","length","count","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","to","concat","index","user_info","add_time","content","pic_list","val","pic_url","comment_id","attribute","value","dangerouslySetInnerHTML","__html","goods_desc","issue","question","answer","relatedData","push","pathname","list_pic_url","checkCollect","Sum","goodsCount","showModal","role","goods_number","onClose","decrease","increase","failToast","loadingToast","Component","lazy_load_img__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","lazy_load_img__WEBPACK_IMPORTED_MODULE_0___default","n","element","LazyLoadImg","mode","time","done","position","top","right","bottom","left","before","classList","add","error"],"mappings":"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","file":"static/js/18.a284e7ef.chunk.js","sourcesContent":["import React, { Component } from 'react'  // eslint-disable-line\r\nimport { inject, observer } from 'mobx-react'\r\nimport Swiper from 'swiper'\r\nimport './goods.scss'\r\nimport { Toast } from 'antd-mobile'\r\nimport { NavLink } from 'react-router-dom'\r\n//图片懒加载\r\nimport lazyLoad from '../../../loadImg'\r\n@inject('goods', 'topic')\r\n@observer\r\n\r\nclass Goods extends Component {\r\n    constructor() {\r\n        super()\r\n        this.swiperDom = React.createRef()\r\n        this.state = {\r\n            modal1: false,\r\n            modal2: false,\r\n            flag:false,\r\n            goodsNum:0,\r\n            Collect:false,\r\n            userHasCollect:0\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        let id = this.props.match.params.id;\r\n        this.props.goods.getGoods({ id })\r\n        this.props.topic.getCommentList({ valueId: id, typeId: 0, page: 1, size: 1 })\r\n        this.props.goods.getRelated({ id })\r\n        this.props.goods.getCartSum()\r\n        lazyLoad(this.refs.load)\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        let id = nextProps.match.params.id;\r\n        this.props.goods.getGoods({ id })\r\n    }\r\n    componentDidUpdate() {\r\n        new Swiper(this.swiperDom.current, {\r\n            loop: true,\r\n            pagination: {\r\n                el: this.refs.swiperPage,\r\n            },\r\n            autoplay: {\r\n                delay: 1000,\r\n            },\r\n        })\r\n    }\r\n    showModal() {\r\n        this.setState({\r\n            flag:!this.state.flag\r\n        })\r\n    }\r\n    onClose() {\r\n        this.setState({\r\n            flag:false\r\n        })\r\n    }\r\n    //减少\r\n    decrease() {\r\n        if(this.state.goodsNum === 0) {\r\n            return \r\n        }\r\n        this.setState({\r\n            goodsNum:this.state.goodsNum -=1    // eslint-disable-line\r\n        })\r\n    }\r\n    //增加\r\n    increase() {\r\n        this.setState({\r\n            goodsNum:this.state.goodsNum +=1 // eslint-disable-line\r\n        })\r\n    }\r\n    //加入购物车\r\n    failToast() {\r\n        if(this.state.goodsNum === 0) {\r\n            Toast.fail('请选择商品数量', 1);\r\n        } else if(this.state.goodsNum >= 0) {\r\n            Toast.success('添加成功', 1);\r\n            let goodsId = this.props.goods.goodsData.info.id\r\n            let productId = this.props.goods.goodsData.productList[0].id\r\n            let number = this.state.goodsNum\r\n            this.props.goods.addGoodsCart({goodsId,productId,number})  \r\n        }\r\n    }\r\n    loadingToast() {\r\n        Toast.loading('下单功能还未GET,耐心等待~', 1, () => {\r\n          console.log('Load complete !!!');\r\n        });\r\n    }\r\n    //点击收藏\r\n    checkCollect() {\r\n        let valueId = this.props.goods.goodsData.info.id\r\n        this.props.goods.addCollect({typeId:0,valueId},valueId)\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='App' ref='load'>\r\n                <div className='noTabPageContent'>\r\n                    <div className='goodsPage'>\r\n                        <div className='header'>\r\n                            <div className='left' onClick={() => { this.props.history.goBack() }}><i className='iconfont icon-angle-left'></i></div>\r\n                            <div className='title'>{this.props.goods.goodsData && this.props.goods.goodsData.info.name}</div>\r\n                            <div className='right'></div>\r\n                        </div>\r\n                        <div className='banner'>\r\n                            <div className='swiper-container' ref={this.swiperDom}>\r\n                                <div className='swiper-wrapper'>\r\n                                    {\r\n                                        this.props.goods.goodsData && this.props.goods.goodsData.gallery.map(item => {\r\n                                            return (<div className='swiper-slide' key={item.id}>\r\n                                                <img src='https://ss0.bdstatic.com/-0U0bnSm1A5BphGlnYG/tam-ogel/8bc5c8ca3da4043fc6c9dbfb32d5dc89_121_121.jpg' data-src={item.img_url} alt='' />\r\n                                                {/* <img src={item.img_url} alt='' /> */}\r\n                                            </div>)\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                                <div className=\"swiper-pagination\" ref='swiperPage'></div>\r\n                            </div>\r\n                        </div>\r\n                        <ul className='serviceList'>\r\n                            <li><span>★</span>30天无忧退货</li>\r\n                            <li><span>★</span>48小时快速退款</li>\r\n                            <li><span>★</span>满88元免邮费</li>\r\n                        </ul>\r\n                        <div className='goodsMsgWrap'>\r\n                            <div className='goodsNameTitle'>{this.props.goods.goodsData && this.props.goods.goodsData.info.name}</div>\r\n                            <div className='goodsNameSubTitle'>{this.props.goods.goodsData && this.props.goods.goodsData.info.goods_brief}</div>\r\n                            <div className='goodsPriceTitle'>￥{this.props.goods.goodsData && this.props.goods.goodsData.info.retail_price}</div>\r\n                        </div>\r\n                        <div className='goodsSize'>\r\n                            <div></div>\r\n                            <div> x {this.state.goodsNum}</div>\r\n                            <div>选择规格<i className='iconfont icon-angle-right'></i></div>\r\n                        </div>\r\n                        {this.props.topic.mytopicComment.data && this.props.topic.mytopicComment.data.length !== 0 ? <div className='goodsComment'>\r\n                            <div className='goodsCommentTitle'>\r\n                                <div>评论（{this.props.topic && this.props.topic.mytopicComment.count}）</div>\r\n                                <div><NavLink to={`/comment/${this.props.goods.goodsData && this.props.goods.goodsData.info.id}?typeId=0`}>\r\n                                    查看全部\r\n                                    <i className='iconfont icon-angle-right'></i>\r\n                                </NavLink></div>\r\n                            </div>\r\n                            <div className='commentList'>\r\n                                {\r\n                                    this.props.topic.mytopicComment.data && this.props.topic.mytopicComment.data.map((item, index) => {\r\n                                        return (<div className='commentItem' key={item.id + 'id'}>\r\n                                            <div className='userInfo'>\r\n                                                <div>{item.user_info.name ? item.user_info.name : \"匿名用户\"}</div>\r\n                                                <div>{item.add_time}</div>\r\n                                            </div>\r\n                                            <div className='userComment'>{item.content}</div>\r\n                                            <div className='commentPicList'>\r\n                                                {\r\n                                                    item.pic_list.length !== 0 ? item.pic_list.map(val => {\r\n                                                        return <img src='https://ss0.bdstatic.com/-0U0bnSm1A5BphGlnYG/tam-ogel/8bc5c8ca3da4043fc6c9dbfb32d5dc89_121_121.jpg' data-src={val.pic_url} key={val.comment_id} alt='' />\r\n                                                        // return <img src={val.pic_url} key={val.comment_id} alt='' />\r\n                                                    }) : null\r\n                                                }\r\n                                            </div>\r\n                                        </div>)\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div> : null}\r\n                        {this.props.goods.goodsData && this.props.goods.goodsData.attribute.length !== 0 ? <div className='goodsAttribute'>\r\n                            <div className='goodsAttributeLine'>商品参数</div>\r\n                            <div className='goodsAttributeList'>\r\n                                {\r\n                                    this.props.goods.goodsData && this.props.goods.goodsData.attribute.map((item, index) => {\r\n                                        return (<div className='goodsAttributeItem' key={index}>\r\n                                            <div className='attributeLabel'>{item.name}</div>\r\n                                            <div className='attributeContent'>{item.value}</div>\r\n                                        </div>)\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div> : null}\r\n                        <div className='topicDetailImg' dangerouslySetInnerHTML={{ __html: this.props.goods.goodsData && this.props.goods.goodsData.info.goods_desc }}>\r\n                            {/* {\r\n                                this.props.goods.goodsData && this.props.goods.goodsData.info.goods_desc\r\n                            } */}\r\n                        </div>\r\n                        <div className='goodsAttribute'>\r\n                            <div className='goodsAttributeLine'>常见问题</div>\r\n                            {\r\n                                this.props.goods.goodsData && this.props.goods.goodsData.issue.map(item => {\r\n                                    return (<div className='problemWrap' key={item.id}>\r\n                                        <div className='problemLabel'>\r\n                                            <span>√</span>\r\n                                            {item.question}\r\n                                        </div>\r\n                                        <div className='problemContent'>{item.answer}</div>\r\n                                    </div>)\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className='goodsAttribute'>\r\n                            <div className='goodsAttributeLine'>大家都在看</div>\r\n                        </div>\r\n                        <div className='goodsList'>\r\n                            <div className='goodsList'>\r\n                                {\r\n                                    this.props.goods.relatedData && this.props.goods.relatedData.map(item => {\r\n                                        return (<div className='goodsItem' key={item.id} onClick={()=>{this.props.history.push({pathname:`/goods/${item.id}`})}}>\r\n                                            <div className='goodsItemImg'>\r\n                                                <img src='https://ss0.bdstatic.com/-0U0bnSm1A5BphGlnYG/tam-ogel/8bc5c8ca3da4043fc6c9dbfb32d5dc89_121_121.jpg' data-src={item.list_pic_url} alt='' />\r\n                                                {/* <img src={item.list_pic_url} alt='' /> */}\r\n                                            </div>\r\n                                            <div className='goodsItemName'>{item.name}</div>\r\n                                            <div className='goodsItemPrice'>￥{item.retail_price}元</div>\r\n                                        </div>)\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className='goodsPageDo'>\r\n                            <div className='isLike' onClick={() => {this.checkCollect()}}>\r\n                            {\r\n                                this.props.goods.goodsData&&this.props.goods.goodsData.userHasCollect === 0 ?  '☆'  : \"★\" \r\n                            }\r\n                            </div>\r\n\r\n                            <div className='cartNum' onClick={() => {this.props.history.push('/main/cart')}}>\r\n                                <i className='iconfont icon-gouwuche-xuanzhong'>\r\n                                    <span>{this.props.goods.Sum.goodsCount}</span>\r\n                                </i>\r\n                            </div>\r\n                            <div className='addCart' onClick={() => this.showModal('modal2')}>加入购物车</div>\r\n                            <div className='payGoods'>立即购买</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {this.state.flag === true ? <div className='am-modal-container-1564386063872'>\r\n                    <div>\r\n                    <div className='am-modal-mask'></div>\r\n                    <div className='am-modal-wrap am-modal-wrap-popup' role='dialog'>\r\n                        <div className='am-modal am-modal-popup am-modal-popup-slide-up'>\r\n                            <div className='am-modal-content'>\r\n                                <div className='am-modal-body'>\r\n                                    <div className='goodsSizeDo'>\r\n                                        <div className='goodsSizeSetMsg'>\r\n                                            <img src={this.props.goods.goodsData && this.props.goods.goodsData.info.list_pic_url} alt=\"\"/>\r\n                                            <div className='gooodsSizePriceAndSize'>\r\n                                                <div>\r\n                                                    单价：\r\n                                                    <span>￥{this.props.goods.goodsData && this.props.goods.goodsData.info.retail_price}</span>\r\n                                                </div>\r\n                                                <div>\r\n                                                    库存：\r\n                                                    <span>{this.props.goods.goodsData && this.props.goods.goodsData.info.goods_number}件</span>\r\n                                                </div>\r\n                                                <div>\r\n                                                    已选择：\r\n                                                    <br/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className='closeModel' onClick={() => {this.onClose('modal1')}}>\r\n                                                <i className='iconfont icon-quxiao'></i>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='goodsSizeWrap'>\r\n                                            <div className='goodsSizeItem'>\r\n                                                <div className='goodsSizeItemName'>数量</div>\r\n                                                <div className='goodsSizeListWrap'>\r\n                                                    <div className='goodsBuyCount'>\r\n                                                        <div className='onePx_border' onClick={() => {this.decrease()}}>-</div>\r\n                                                        <div className='onePx_border'>{this.state.goodsNum}</div>\r\n                                                        <div className='onePx_border' onClick={() => {this.increase()}}>+</div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='goodsDoWrap'>\r\n                                        <div onClick={() => {this.failToast()}}>加入购物车</div>\r\n                                        <div onClick={() => {this.loadingToast()}}>立即下单</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Goods\r\n","import LazyLoadImg from 'lazy-load-img'\r\nconst lazyLoad = element => {\r\n    return new LazyLoadImg({\r\n        el: element,\r\n        mode: 'default', //默认模式，将显示原图，diy模式，将自定义剪切，默认剪切居中部分\r\n        time: 300, // 设置一个检测时间间隔\r\n        done: true, //页面内所有数据图片加载完成后，是否自己销毁程序，true默认销毁，false不销毁\r\n        position: { // 只要其中一个位置符合条件，都会触发加载机制\r\n            top: 0, // 元素距离顶部\r\n            right: 0, // 元素距离右边\r\n            bottom: 0, // 元素距离下面\r\n            left: 0 // 元素距离左边\r\n        },\r\n        before: function () {\r\n    \r\n        },\r\n        success: function (el) {\r\n            el.classList.add('success')\r\n        },\r\n        error: function (el) {\r\n            el.src = './images/error.png'\r\n        }\r\n    })\r\n}\r\nexport default lazyLoad"],"sourceRoot":""}