{"version":3,"sources":["components/main/detail/goods.js","loadImg/index.js"],"names":["Goods","inject","observer","_this","Object","_Users_liulu_Desktop_easyMarketApp_easyMarketApp_easyShop_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_liulu_Desktop_easyMarketApp_easyMarketApp_easyShop_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_liulu_Desktop_easyMarketApp_easyMarketApp_easyShop_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","swiperDom","React","createRef","state","modal1","modal2","flag","goodsNum","Collect","userHasCollect","id","props","match","params","goods","getGoods","topic","getCommentList","valueId","typeId","page","size","getRelated","getCartSum","lazyLoad","refs","load","nextProps","Swiper","current","loop","pagination","el","swiperPage","autoplay","delay","setState","Toast","fail","success","goodsId","goodsData","info","productId","productList","number","addGoodsCart","loading","console","log","addCollect","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","ref","onClick","history","goBack","name","gallery","map","item","key","src","data-src","img_url","alt","goods_brief","retail_price","mytopicComment","data","length","count","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","to","concat","index","user_info","add_time","content","pic_list","val","pic_url","comment_id","attribute","value","dangerouslySetInnerHTML","__html","goods_desc","issue","question","answer","relatedData","push","pathname","list_pic_url","checkCollect","Sum","goodsCount","showModal","role","goods_number","onClose","decrease","increase","failToast","loadingToast","Component","lazy_load_img__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","lazy_load_img__WEBPACK_IMPORTED_MODULE_0___default","n","element","LazyLoadImg","mode","time","done","position","top","right","bottom","left","before","classList","add","error"],"mappings":"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","file":"static/js/18.0af13934.chunk.js","sourcesContent":["import React, { Component } from 'react'  // eslint-disable-line\nimport { inject, observer } from 'mobx-react'\nimport Swiper from 'swiper'\nimport './goods.scss'\nimport { Toast } from 'antd-mobile'\nimport { NavLink } from 'react-router-dom'\n//图片懒加载\nimport lazyLoad from '../../../loadImg'\n@inject('goods', 'topic')\n@observer\n\nclass Goods extends Component {\n    constructor() {\n        super()\n        this.swiperDom = React.createRef()\n        this.state = {\n            modal1: false,\n            modal2: false,\n            flag:false,\n            goodsNum:0,\n            Collect:false,\n            userHasCollect:0\n        };\n    }\n    componentDidMount() {\n        let id = this.props.match.params.id;\n        this.props.goods.getGoods({ id })\n        this.props.topic.getCommentList({ valueId: id, typeId: 0, page: 1, size: 1 })\n        this.props.goods.getRelated({ id })\n        this.props.goods.getCartSum()\n        lazyLoad(this.refs.load)\n    }\n    componentWillReceiveProps(nextProps){\n        let id = nextProps.match.params.id;\n        this.props.goods.getGoods({ id })\n    }\n    componentDidUpdate() {\n        new Swiper(this.swiperDom.current, {\n            loop: true,\n            pagination: {\n                el: this.refs.swiperPage,\n            },\n            autoplay: {\n                delay: 1000,\n            },\n        })\n    }\n    showModal() {\n        this.setState({\n            flag:!this.state.flag\n        })\n    }\n    onClose() {\n        this.setState({\n            flag:false\n        })\n    }\n    //减少\n    decrease() {\n        if(this.state.goodsNum === 0) {\n            return \n        }\n        this.setState({\n            goodsNum:this.state.goodsNum -=1    // eslint-disable-line\n        })\n    }\n    //增加\n    increase() {\n        this.setState({\n            goodsNum:this.state.goodsNum +=1 // eslint-disable-line\n        })\n    }\n    //加入购物车\n    failToast() {\n        if(this.state.goodsNum === 0) {\n            Toast.fail('请选择商品数量', 1);\n        } else if(this.state.goodsNum >= 0) {\n            Toast.success('添加成功', 1);\n            let goodsId = this.props.goods.goodsData.info.id\n            let productId = this.props.goods.goodsData.productList[0].id\n            let number = this.state.goodsNum\n            this.props.goods.addGoodsCart({goodsId,productId,number})  \n        }\n    }\n    loadingToast() {\n        Toast.loading('下单功能还未GET,耐心等待~', 1, () => {\n          console.log('Load complete !!!');\n        });\n    }\n    //点击收藏\n    checkCollect() {\n        let valueId = this.props.goods.goodsData.info.id\n        this.props.goods.addCollect({typeId:0,valueId},valueId)\n    }\n    render() {\n        return (\n            <div className='App' ref='load'>\n                <div className='noTabPageContent'>\n                    <div className='goodsPage'>\n                        <div className='header'>\n                            <div className='left' onClick={() => { this.props.history.goBack() }}><i className='iconfont icon-angle-left'></i></div>\n                            <div className='title'>{this.props.goods.goodsData && this.props.goods.goodsData.info.name}</div>\n                            <div className='right'></div>\n                        </div>\n                        <div className='banner'>\n                            <div className='swiper-container' ref={this.swiperDom}>\n                                <div className='swiper-wrapper'>\n                                    {\n                                        this.props.goods.goodsData && this.props.goods.goodsData.gallery.map(item => {\n                                            return (<div className='swiper-slide' key={item.id}>\n                                                <img src='https://ss0.bdstatic.com/-0U0bnSm1A5BphGlnYG/tam-ogel/8bc5c8ca3da4043fc6c9dbfb32d5dc89_121_121.jpg' data-src={item.img_url} alt='' />\n                                                {/* <img src={item.img_url} alt='' /> */}\n                                            </div>)\n                                        })\n                                    }\n                                </div>\n                                <div className=\"swiper-pagination\" ref='swiperPage'></div>\n                            </div>\n                        </div>\n                        <ul className='serviceList'>\n                            <li><span>★</span>30天无忧退货</li>\n                            <li><span>★</span>48小时快速退款</li>\n                            <li><span>★</span>满88元免邮费</li>\n                        </ul>\n                        <div className='goodsMsgWrap'>\n                            <div className='goodsNameTitle'>{this.props.goods.goodsData && this.props.goods.goodsData.info.name}</div>\n                            <div className='goodsNameSubTitle'>{this.props.goods.goodsData && this.props.goods.goodsData.info.goods_brief}</div>\n                            <div className='goodsPriceTitle'>￥{this.props.goods.goodsData && this.props.goods.goodsData.info.retail_price}</div>\n                        </div>\n                        <div className='goodsSize'>\n                            <div></div>\n                            <div> x {this.state.goodsNum}</div>\n                            <div>选择规格<i className='iconfont icon-angle-right'></i></div>\n                        </div>\n                        {this.props.topic.mytopicComment.data && this.props.topic.mytopicComment.data.length !== 0 ? <div className='goodsComment'>\n                            <div className='goodsCommentTitle'>\n                                <div>评论（{this.props.topic && this.props.topic.mytopicComment.count}）</div>\n                                <div><NavLink to={`/comment/${this.props.goods.goodsData && this.props.goods.goodsData.info.id}?typeId=0`}>\n                                    查看全部\n                                    <i className='iconfont icon-angle-right'></i>\n                                </NavLink></div>\n                            </div>\n                            <div className='commentList'>\n                                {\n                                    this.props.topic.mytopicComment.data && this.props.topic.mytopicComment.data.map((item, index) => {\n                                        return (<div className='commentItem' key={item.id + 'id'}>\n                                            <div className='userInfo'>\n                                                <div>{item.user_info.name ? item.user_info.name : \"匿名用户\"}</div>\n                                                <div>{item.add_time}</div>\n                                            </div>\n                                            <div className='userComment'>{item.content}</div>\n                                            <div className='commentPicList'>\n                                                {\n                                                    item.pic_list.length !== 0 ? item.pic_list.map(val => {\n                                                        return <img src='https://ss0.bdstatic.com/-0U0bnSm1A5BphGlnYG/tam-ogel/8bc5c8ca3da4043fc6c9dbfb32d5dc89_121_121.jpg' data-src={val.pic_url} key={val.comment_id} alt='' />\n                                                        // return <img src={val.pic_url} key={val.comment_id} alt='' />\n                                                    }) : null\n                                                }\n                                            </div>\n                                        </div>)\n                                    })\n                                }\n                            </div>\n                        </div> : null}\n                        {this.props.goods.goodsData && this.props.goods.goodsData.attribute.length !== 0 ? <div className='goodsAttribute'>\n                            <div className='goodsAttributeLine'>商品参数</div>\n                            <div className='goodsAttributeList'>\n                                {\n                                    this.props.goods.goodsData && this.props.goods.goodsData.attribute.map((item, index) => {\n                                        return (<div className='goodsAttributeItem' key={index}>\n                                            <div className='attributeLabel'>{item.name}</div>\n                                            <div className='attributeContent'>{item.value}</div>\n                                        </div>)\n                                    })\n                                }\n                            </div>\n                        </div> : null}\n                        <div className='topicDetailImg' dangerouslySetInnerHTML={{ __html: this.props.goods.goodsData && this.props.goods.goodsData.info.goods_desc }}>\n                            {/* {\n                                this.props.goods.goodsData && this.props.goods.goodsData.info.goods_desc\n                            } */}\n                        </div>\n                        <div className='goodsAttribute'>\n                            <div className='goodsAttributeLine'>常见问题</div>\n                            {\n                                this.props.goods.goodsData && this.props.goods.goodsData.issue.map(item => {\n                                    return (<div className='problemWrap' key={item.id}>\n                                        <div className='problemLabel'>\n                                            <span>√</span>\n                                            {item.question}\n                                        </div>\n                                        <div className='problemContent'>{item.answer}</div>\n                                    </div>)\n                                })\n                            }\n                        </div>\n                        <div className='goodsAttribute'>\n                            <div className='goodsAttributeLine'>大家都在看</div>\n                        </div>\n                        <div className='goodsList'>\n                            <div className='goodsList'>\n                                {\n                                    this.props.goods.relatedData && this.props.goods.relatedData.map(item => {\n                                        return (<div className='goodsItem' key={item.id} onClick={()=>{this.props.history.push({pathname:`/goods/${item.id}`})}}>\n                                            <div className='goodsItemImg'>\n                                                <img src='https://ss0.bdstatic.com/-0U0bnSm1A5BphGlnYG/tam-ogel/8bc5c8ca3da4043fc6c9dbfb32d5dc89_121_121.jpg' data-src={item.list_pic_url} alt='' />\n                                                {/* <img src={item.list_pic_url} alt='' /> */}\n                                            </div>\n                                            <div className='goodsItemName'>{item.name}</div>\n                                            <div className='goodsItemPrice'>￥{item.retail_price}元</div>\n                                        </div>)\n                                    })\n                                }\n                            </div>\n                        </div>\n                        <div className='goodsPageDo'>\n                            <div className='isLike' onClick={() => {this.checkCollect()}}>\n                            {\n                                this.props.goods.goodsData&&this.props.goods.goodsData.userHasCollect === 0 ?  '☆'  : \"★\" \n                            }\n                            </div>\n\n                            <div className='cartNum' onClick={() => {this.props.history.push('/main/cart')}}>\n                                <i className='iconfont icon-gouwuche-xuanzhong'>\n                                    <span>{this.props.goods.Sum.goodsCount}</span>\n                                </i>\n                            </div>\n                            <div className='addCart' onClick={() => this.showModal('modal2')}>加入购物车</div>\n                            <div className='payGoods'>立即购买</div>\n                        </div>\n                    </div>\n                </div>\n                {this.state.flag === true ? <div className='am-modal-container-1564386063872'>\n                    <div>\n                    <div className='am-modal-mask'></div>\n                    <div className='am-modal-wrap am-modal-wrap-popup' role='dialog'>\n                        <div className='am-modal am-modal-popup am-modal-popup-slide-up'>\n                            <div className='am-modal-content'>\n                                <div className='am-modal-body'>\n                                    <div className='goodsSizeDo'>\n                                        <div className='goodsSizeSetMsg'>\n                                            <img src={this.props.goods.goodsData && this.props.goods.goodsData.info.list_pic_url} alt=\"\"/>\n                                            <div className='gooodsSizePriceAndSize'>\n                                                <div>\n                                                    单价：\n                                                    <span>￥{this.props.goods.goodsData && this.props.goods.goodsData.info.retail_price}</span>\n                                                </div>\n                                                <div>\n                                                    库存：\n                                                    <span>{this.props.goods.goodsData && this.props.goods.goodsData.info.goods_number}件</span>\n                                                </div>\n                                                <div>\n                                                    已选择：\n                                                    <br/>\n                                                </div>\n                                            </div>\n                                            <div className='closeModel' onClick={() => {this.onClose('modal1')}}>\n                                                <i className='iconfont icon-quxiao'></i>\n                                            </div>\n                                        </div>\n                                        <div className='goodsSizeWrap'>\n                                            <div className='goodsSizeItem'>\n                                                <div className='goodsSizeItemName'>数量</div>\n                                                <div className='goodsSizeListWrap'>\n                                                    <div className='goodsBuyCount'>\n                                                        <div className='onePx_border' onClick={() => {this.decrease()}}>-</div>\n                                                        <div className='onePx_border'>{this.state.goodsNum}</div>\n                                                        <div className='onePx_border' onClick={() => {this.increase()}}>+</div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className='goodsDoWrap'>\n                                        <div onClick={() => {this.failToast()}}>加入购物车</div>\n                                        <div onClick={() => {this.loadingToast()}}>立即下单</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                  </div>\n                </div> : null}\n            </div>\n        )\n    }\n}\n\nexport default Goods\n","import LazyLoadImg from 'lazy-load-img'\nconst lazyLoad = element => {\n    return new LazyLoadImg({\n        el: element,\n        mode: 'default', //默认模式，将显示原图，diy模式，将自定义剪切，默认剪切居中部分\n        time: 300, // 设置一个检测时间间隔\n        done: true, //页面内所有数据图片加载完成后，是否自己销毁程序，true默认销毁，false不销毁\n        position: { // 只要其中一个位置符合条件，都会触发加载机制\n            top: 0, // 元素距离顶部\n            right: 0, // 元素距离右边\n            bottom: 0, // 元素距离下面\n            left: 0 // 元素距离左边\n        },\n        before: function () {\n    \n        },\n        success: function (el) {\n            el.classList.add('success')\n        },\n        error: function (el) {\n            el.src = './images/error.png'\n        }\n    })\n}\nexport default lazyLoad"],"sourceRoot":""}