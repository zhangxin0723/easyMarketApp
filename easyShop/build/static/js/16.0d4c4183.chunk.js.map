{"version":3,"sources":["components/main/Home/categorys.js"],"names":["Categorys","inject","observer","this","props","home","getCatelog","categoryId","match","params","id","getNav","tab","navData","brotherCategory","index","_this","catalog","tabs","map","item","title","name","goodsList","initialPage","findIndex","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","onClick","history","goBack","antd_mobile__WEBPACK_IMPORTED_MODULE_7__","renderTabBar","DefaultTabBar","Object","assign","page","onTabClick","change","currentCategory","front_desc","key","href","concat","src","list_pic_url","alt","retail_price","Component"],"mappings":"gLAQMA,SAHLC,YAAO,UACPC,0MAIOC,KAAKC,MAAMC,KAAKC,WAAW,CAAEC,WAAYJ,KAAKC,MAAMI,MAAMC,OAAOC,KACjEP,KAAKC,MAAMC,KAAKM,OAAO,CAAED,GAAIP,KAAKC,MAAMI,MAAMC,OAAOC,oCAElDE,GACH,IAAIF,EAAKP,KAAKC,MAAMC,KAAKQ,QAAQC,gBAAgBF,EAAIG,OAAOL,GAC5DP,KAAKC,MAAMC,KAAKC,WAAW,CAAEC,WAAYG,IACzCP,KAAKC,MAAMC,KAAKM,OAAO,CAAED,GAAIA,qCAGxB,IAAAM,EAAAb,KACL,IAAKA,KAAKC,MAAMC,KAAKY,QACjB,OAAO,KAEX,IAAKd,KAAKC,MAAMC,KAAKQ,QACjB,OAAO,KAEX,IAAMK,EAAOf,KAAKC,MAAMC,KAAKQ,QAAQC,gBAAgBK,IAAI,SAAAC,GACrD,MAAO,CAAEC,MAAOD,EAAKE,QAEnBC,EAAcpB,KAAKC,MAAMC,KAAKY,QAA9BM,UAEFC,EAAcrB,KAAKC,MAAMC,KAAKQ,QAAQC,gBAAgBW,UAAU,SAAAL,GAChE,OAAOA,EAAKV,KAAkC,EAA3BM,EAAKZ,MAAMI,MAAMC,OAAOC,KAE/C,OACIgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOC,QAAS,WAAKd,EAAKZ,MAAM2B,QAAQC,WAAWN,EAAAC,EAAAC,cAAA,KAAGC,UAAU,8BAC/EH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,4BACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAEnBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAACK,EAAA,EAAD,MACAP,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAMf,KAAMA,EAAMgB,aAAc,SAAA9B,GAAK,OAAIsB,EAAAC,EAAAC,cAACK,EAAA,EAAKE,cAANC,OAAAC,OAAA,GAAwBjC,EAAxB,CAA+BkC,KAAM,MAAOd,YAAaA,EAAae,WAAY,SAAC3B,EAAKG,GAAYC,EAAKwB,OAAO,CAAE5B,MAAKG,aAEhKW,EAAAC,EAAAC,cAACK,EAAA,EAAD,OAEJP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,WAAMzB,KAAKC,MAAMC,KAAKQ,QAAQ4B,gBAAgBnB,MAC9CI,EAAAC,EAAAC,cAAA,WAAMzB,KAAKC,MAAMC,KAAKQ,QAAQ4B,gBAAgBC,aAElDhB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAEPN,EAAUJ,IAAI,SAAAC,GACV,OAAQM,EAAAC,EAAAC,cAAA,KAAGC,UAAU,YAAYc,IAAKvB,EAAKV,GAAIkC,KAAI,UAAAC,OAAYzB,EAAKV,KAChEgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,OAAKkB,IAAK1B,EAAK2B,aAAcC,IAAI,MAErCtB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBT,EAAKE,MACrCI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBAAf,SAAkCT,EAAK6B,aAAvC,wBArDhBC,sBAiETlD","file":"static/js/16.0d4c4183.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { Tabs, WhiteSpace } from 'antd-mobile';\r\nimport './index.scss'\r\n\r\n@inject('home')\r\n@observer\r\n\r\nclass Categorys extends Component {\r\n    componentDidMount() {\r\n        this.props.home.getCatelog({ categoryId: this.props.match.params.id })\r\n        this.props.home.getNav({ id: this.props.match.params.id })\r\n    }\r\n    change(tab) {\r\n        let id = this.props.home.navData.brotherCategory[tab.index].id;\r\n        this.props.home.getCatelog({ categoryId: id })\r\n        this.props.home.getNav({ id: id })\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.home.catalog) {\r\n            return null\r\n        }\r\n        if (!this.props.home.navData) {\r\n            return null\r\n        }\r\n        const tabs = this.props.home.navData.brotherCategory.map(item => {\r\n            return { title: item.name }\r\n        })\r\n        let { goodsList } = this.props.home.catalog;\r\n        //初始化nav\r\n        let initialPage = this.props.home.navData.brotherCategory.findIndex(item => {\r\n            return item.id === this.props.match.params.id*1;\r\n        })\r\n        return (\r\n            <div className='App'>\r\n                <div className='noTabPageContent'>\r\n                    <div className='header'>\r\n                        <div className='left' onClick={()=>{this.props.history.goBack()}}><i className='iconfont icon-angle-left'></i></div>\r\n                        <div className='title'>奇趣分类</div>\r\n                        <div className='right'></div>\r\n                    </div>\r\n                    <div className='tabWrap'>\r\n                        <WhiteSpace />\r\n                        <Tabs tabs={tabs} renderTabBar={props => <Tabs.DefaultTabBar {...props} page={5} />} initialPage={initialPage} onTabClick={(tab, index) => { this.change({ tab, index }) }}>\r\n                        </Tabs>\r\n                        <WhiteSpace />\r\n                    </div>\r\n                    <div className='categoryDetail'>\r\n                        <div>{this.props.home.navData.currentCategory.name}</div>\r\n                        <div>{this.props.home.navData.currentCategory.front_desc}</div>\r\n                    </div>\r\n                    <div className='goodsList'>\r\n                        <div className='goodsList'>\r\n                            {\r\n                                goodsList.map(item => {\r\n                                    return (<a className='goodsItem' key={item.id} href={`/goods/${item.id}`}>\r\n                                        <div className='goodsItemImg'>\r\n                                            <img src={item.list_pic_url} alt='' />\r\n                                        </div>\r\n                                        <div className='goodsItemName'>{item.name}</div>\r\n                                        <div className='goodsItemPrice'>￥{item.retail_price}元</div>\r\n                                    </a>)\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Categorys\r\n"],"sourceRoot":""}