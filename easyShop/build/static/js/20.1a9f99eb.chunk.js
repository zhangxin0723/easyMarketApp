(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{125:function(e,a,t){},249:function(e,a,t){"use strict";t.r(a);var o,s=t(8),i=t(78),l=t(80),n=t(79),c=t(81),m=t(0),d=t.n(m),r=t(24),p=t(236),g=(t(125),t(102)),u=t(25),v=Object(r.b)("goods","topic")(o=Object(r.c)(o=function(e){function a(){var e;return Object(s.a)(this,a),(e=Object(l.a)(this,Object(n.a)(a).call(this))).swiperDom=d.a.createRef(),e.state={modal1:!1,modal2:!1,flag:!1,goodsNum:0,Collect:!1,userHasCollect:0},e}return Object(c.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.goods.getGoods({id:e}),this.props.topic.getCommentList({valueId:e,typeId:0,page:1,size:1}),this.props.goods.getRelated({id:e}),this.props.goods.getCartSum()}},{key:"componentWillReceiveProps",value:function(e){var a=e.match.params.id;this.props.goods.getGoods({id:a})}},{key:"componentDidUpdate",value:function(){new p.a(this.swiperDom.current,{loop:!0,pagination:{el:this.refs.swiperPage},autoplay:{delay:1e3}})}},{key:"showModal",value:function(){this.setState({flag:!this.state.flag})}},{key:"onClose",value:function(){this.setState({flag:!1})}},{key:"decrease",value:function(){0!==this.state.goodsNum&&this.setState({goodsNum:this.state.goodsNum-=1})}},{key:"increase",value:function(){this.setState({goodsNum:this.state.goodsNum+=1})}},{key:"failToast",value:function(){if(0===this.state.goodsNum)g.d.fail("\u8bf7\u9009\u62e9\u5546\u54c1\u6570\u91cf",1);else if(this.state.goodsNum>=0){g.d.success("\u6dfb\u52a0\u6210\u529f",1);var e=this.props.goods.goodsData.info.id,a=this.props.goods.goodsData.productList[0].id,t=this.state.goodsNum;this.props.goods.addGoodsCart({goodsId:e,productId:a,number:t})}}},{key:"loadingToast",value:function(){g.d.loading("\u4e0b\u5355\u529f\u80fd\u8fd8\u672aGET,\u8010\u5fc3\u7b49\u5f85~",1,function(){console.log("Load complete !!!")})}},{key:"checkCollect",value:function(){var e=this.props.goods.goodsData.info.id;this.props.goods.addCollect({typeId:0,valueId:e},e)}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"App"},d.a.createElement("div",{className:"noTabPageContent"},d.a.createElement("div",{className:"goodsPage"},d.a.createElement("div",{className:"header"},d.a.createElement("div",{className:"left",onClick:function(){e.props.history.goBack()}},d.a.createElement("i",{className:"iconfont icon-angle-left"})),d.a.createElement("div",{className:"title"},this.props.goods.goodsData&&this.props.goods.goodsData.info.name),d.a.createElement("div",{className:"right"})),d.a.createElement("div",{className:"banner"},d.a.createElement("div",{className:"swiper-container",ref:this.swiperDom},d.a.createElement("div",{className:"swiper-wrapper"},this.props.goods.goodsData&&this.props.goods.goodsData.gallery.map(function(e){return d.a.createElement("div",{className:"swiper-slide",key:e.id},d.a.createElement("img",{src:e.img_url,alt:""}))})),d.a.createElement("div",{className:"swiper-pagination",ref:"swiperPage"}))),d.a.createElement("ul",{className:"serviceList"},d.a.createElement("li",null,d.a.createElement("span",null,"\u2605"),"30\u5929\u65e0\u5fe7\u9000\u8d27"),d.a.createElement("li",null,d.a.createElement("span",null,"\u2605"),"48\u5c0f\u65f6\u5feb\u901f\u9000\u6b3e"),d.a.createElement("li",null,d.a.createElement("span",null,"\u2605"),"\u6ee188\u5143\u514d\u90ae\u8d39")),d.a.createElement("div",{className:"goodsMsgWrap"},d.a.createElement("div",{className:"goodsNameTitle"},this.props.goods.goodsData&&this.props.goods.goodsData.info.name),d.a.createElement("div",{className:"goodsNameSubTitle"},this.props.goods.goodsData&&this.props.goods.goodsData.info.goods_brief),d.a.createElement("div",{className:"goodsPriceTitle"},"\uffe5",this.props.goods.goodsData&&this.props.goods.goodsData.info.retail_price)),d.a.createElement("div",{className:"goodsSize"},d.a.createElement("div",null),d.a.createElement("div",null," x ",this.state.goodsNum),d.a.createElement("div",null,"\u9009\u62e9\u89c4\u683c",d.a.createElement("i",{className:"iconfont icon-angle-right"}))),this.props.topic.mytopicComment.data&&0!==this.props.topic.mytopicComment.data.length?d.a.createElement("div",{className:"goodsComment"},d.a.createElement("div",{className:"goodsCommentTitle"},d.a.createElement("div",null,"\u8bc4\u8bba\uff08",this.props.topic&&this.props.topic.mytopicComment.count,"\uff09"),d.a.createElement("div",null,d.a.createElement(u.b,{to:"/comment/".concat(this.props.goods.goodsData&&this.props.goods.goodsData.info.id,"?typeId=0")},"\u67e5\u770b\u5168\u90e8",d.a.createElement("i",{className:"iconfont icon-angle-right"})))),d.a.createElement("div",{className:"commentList"},this.props.topic.mytopicComment.data&&this.props.topic.mytopicComment.data.map(function(e,a){return d.a.createElement("div",{className:"commentItem",key:e.id+"id"},d.a.createElement("div",{className:"userInfo"},d.a.createElement("div",null,e.user_info.name?e.user_info.name:"\u533f\u540d\u7528\u6237"),d.a.createElement("div",null,e.add_time)),d.a.createElement("div",{className:"userComment"},e.content),d.a.createElement("div",{className:"commentPicList"},0!==e.pic_list.length?e.pic_list.map(function(e){return d.a.createElement("img",{src:e.pic_url,key:e.comment_id,alt:""})}):null))}))):null,this.props.goods.goodsData&&0!==this.props.goods.goodsData.attribute.length?d.a.createElement("div",{className:"goodsAttribute"},d.a.createElement("div",{className:"goodsAttributeLine"},"\u5546\u54c1\u53c2\u6570"),d.a.createElement("div",{className:"goodsAttributeList"},this.props.goods.goodsData&&this.props.goods.goodsData.attribute.map(function(e,a){return d.a.createElement("div",{className:"goodsAttributeItem",key:a},d.a.createElement("div",{className:"attributeLabel"},e.name),d.a.createElement("div",{className:"attributeContent"},e.value))}))):null,d.a.createElement("div",{className:"topicDetailImg",dangerouslySetInnerHTML:{__html:this.props.goods.goodsData&&this.props.goods.goodsData.info.goods_desc}}),d.a.createElement("div",{className:"goodsAttribute"},d.a.createElement("div",{className:"goodsAttributeLine"},"\u5e38\u89c1\u95ee\u9898"),this.props.goods.goodsData&&this.props.goods.goodsData.issue.map(function(e){return d.a.createElement("div",{className:"problemWrap",key:e.id},d.a.createElement("div",{className:"problemLabel"},d.a.createElement("span",null,"\u221a"),e.question),d.a.createElement("div",{className:"problemContent"},e.answer))})),d.a.createElement("div",{className:"goodsAttribute"},d.a.createElement("div",{className:"goodsAttributeLine"},"\u5927\u5bb6\u90fd\u5728\u770b")),d.a.createElement("div",{className:"goodsList"},d.a.createElement("div",{className:"goodsList"},this.props.goods.relatedData&&this.props.goods.relatedData.map(function(a){return d.a.createElement("div",{className:"goodsItem",key:a.id,onClick:function(){e.props.history.push({pathname:"/goods/".concat(a.id)})}},d.a.createElement("div",{className:"goodsItemImg"},d.a.createElement("img",{src:a.list_pic_url,alt:""})),d.a.createElement("div",{className:"goodsItemName"},a.name),d.a.createElement("div",{className:"goodsItemPrice"},"\uffe5",a.retail_price,"\u5143"))}))),d.a.createElement("div",{className:"goodsPageDo"},d.a.createElement("div",{className:"isLike",onClick:function(){e.checkCollect()}},this.props.goods.goodsData&&0===this.props.goods.goodsData.userHasCollect?"\u2606":"\u2605"),d.a.createElement("div",{className:"cartNum",onClick:function(){e.props.history.push("/main/cart")}},d.a.createElement("i",{className:"iconfont icon-gouwuche-xuanzhong"},d.a.createElement("span",null,this.props.goods.Sum.goodsCount))),d.a.createElement("div",{className:"addCart",onClick:function(){return e.showModal("modal2")}},"\u52a0\u5165\u8d2d\u7269\u8f66"),d.a.createElement("div",{className:"payGoods"},"\u7acb\u5373\u8d2d\u4e70")))),!0===this.state.flag?d.a.createElement("div",{className:"am-modal-container-1564386063872"},d.a.createElement("div",null,d.a.createElement("div",{className:"am-modal-mask"}),d.a.createElement("div",{className:"am-modal-wrap am-modal-wrap-popup",role:"dialog"},d.a.createElement("div",{className:"am-modal am-modal-popup am-modal-popup-slide-up"},d.a.createElement("div",{className:"am-modal-content"},d.a.createElement("div",{className:"am-modal-body"},d.a.createElement("div",{className:"goodsSizeDo"},d.a.createElement("div",{className:"goodsSizeSetMsg"},d.a.createElement("img",{src:this.props.goods.goodsData&&this.props.goods.goodsData.info.list_pic_url,alt:""}),d.a.createElement("div",{className:"gooodsSizePriceAndSize"},d.a.createElement("div",null,"\u5355\u4ef7\uff1a",d.a.createElement("span",null,"\uffe5",this.props.goods.goodsData&&this.props.goods.goodsData.info.retail_price)),d.a.createElement("div",null,"\u5e93\u5b58\uff1a",d.a.createElement("span",null,this.props.goods.goodsData&&this.props.goods.goodsData.info.goods_number,"\u4ef6")),d.a.createElement("div",null,"\u5df2\u9009\u62e9\uff1a",d.a.createElement("br",null))),d.a.createElement("div",{className:"closeModel",onClick:function(){e.onClose("modal1")}},d.a.createElement("i",{className:"iconfont icon-quxiao"}))),d.a.createElement("div",{className:"goodsSizeWrap"},d.a.createElement("div",{className:"goodsSizeItem"},d.a.createElement("div",{className:"goodsSizeItemName"},"\u6570\u91cf"),d.a.createElement("div",{className:"goodsSizeListWrap"},d.a.createElement("div",{className:"goodsBuyCount"},d.a.createElement("div",{className:"onePx_border",onClick:function(){e.decrease()}},"-"),d.a.createElement("div",{className:"onePx_border"},this.state.goodsNum),d.a.createElement("div",{className:"onePx_border",onClick:function(){e.increase()}},"+")))))),d.a.createElement("div",{className:"goodsDoWrap"},d.a.createElement("div",{onClick:function(){e.failToast()}},"\u52a0\u5165\u8d2d\u7269\u8f66"),d.a.createElement("div",{onClick:function(){e.loadingToast()}},"\u7acb\u5373\u4e0b\u5355")))))))):null)}}]),a}(m.Component))||o)||o;a.default=v}}]);
//# sourceMappingURL=20.1a9f99eb.chunk.js.map